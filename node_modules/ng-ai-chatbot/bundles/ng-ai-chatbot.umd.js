(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common/http'), require('@angular/forms'), require('@angular/material'), require('@angular/common'), require('@angular/platform-browser/animations')) :
	typeof define === 'function' && define.amd ? define(['exports', '@angular/core', '@angular/common/http', '@angular/forms', '@angular/material', '@angular/common', '@angular/platform-browser/animations'], factory) :
	(factory((global['ng-ai-chatbot'] = {}),global.ng.core,global.ng.common.http,global.ng.forms,global.ng.material,global.ng.common,global.ng.platformBrowser.animations));
}(this, (function (exports,core,http,forms,material,common,animations) { 'use strict';

/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */
var extendStatics = Object.setPrototypeOf ||
    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var CoreService = /** @class */ (function () {
    function CoreService(http$$1) {
        this.http = http$$1;
    }
    CoreService.prototype.doHeaders = function (data) {
        if (data === void 0) { data = null; }
        var headerVals = { 'Content-Type': 'application/json' };
        if (localStorage["botToken"]) {
            headerVals.Authorization = "Basic " + localStorage["botToken"];
        }
        return new http.HttpHeaders(headerVals);
    };
    CoreService.prototype.doGet = function (url, query, resJson) {
        var _this = this;
        if (query === void 0) { query = null; }
        if (resJson === void 0) { resJson = true; }
        return new Promise(function (resolve, reject) {
            var headers = _this.doHeaders(null);
            var finalUrl = _this.doQueryString(CoreService.apiUrl + url, query);
            var promise = _this.http.get(finalUrl, { headers: headers });
            return promise.subscribe(function (data) {
                if (data && data._body) {
                    resolve(JSON.parse(data._body));
                }
                else {
                    resolve(data);
                }
            }, function (error) {
                reject(error);
            });
        });
    };
    CoreService.prototype.doDelete = function (url, query, resJson) {
        var _this = this;
        if (query === void 0) { query = null; }
        if (resJson === void 0) { resJson = true; }
        return new Promise(function (resolve, reject) {
            var headers = _this.doHeaders(null);
            var finalUrl = _this.doQueryString(CoreService.apiUrl + url, query);
            var promise = _this.http.delete(finalUrl, { headers: headers });
            return promise.subscribe(function (data) {
                if (data && data._body) {
                    resolve(JSON.parse(data._body));
                }
                else {
                    resolve(data);
                }
            }, function (error) {
                reject(error);
            });
        });
    };
    CoreService.prototype.doPost = function (url, data, files) {
        if (files === void 0) { files = null; }
        return this.doSubmit('post', url, data, files);
    };
    CoreService.prototype.doPut = function (url, data, files) {
        if (files === void 0) { files = null; }
        return this.doSubmit('put', url, data, files);
    };
    CoreService.prototype.doSubmit = function (method, url, data, files) {
        var _this = this;
        if (files === void 0) { files = null; }
        return new Promise(function (resolve, reject) {
            var headers = _this.doHeaders(data);
            if (!data) {
                data = {};
            }
            var formData;
            if (files) {
                formData = new FormData();
                if (files.length === 1) {
                    formData.append('uploads', files[0], files[0].name);
                }
                else {
                    for (var i = 0; i < files.length; i++) {
                        formData.append('uploads[]', files[i], files[i].name);
                    }
                }
            }
            else {
                formData = JSON.stringify(data);
            }
            console.log("POST: " + (CoreService.apiUrl + url));
            var prom;
            if (method === 'post') {
                prom = _this.http.post(CoreService.apiUrl + url, formData, { headers: headers });
            }
            else {
                prom = _this.http.put(CoreService.apiUrl + url, formData, { headers: headers });
            }
            return prom
                .subscribe(function (dataAnswer) {
                if (dataAnswer && dataAnswer._body) {
                    resolve(JSON.parse(dataAnswer._body));
                }
                else {
                    resolve(dataAnswer);
                }
            }, function (error) {
                reject(error);
            });
        });
    };
    CoreService.prototype.doQueryString = function (url, queries) {
        if (queries) {
            url += '?';
            for (var key in queries) {
                if (!key) {
                    continue;
                }
                url += "&" + key + "=" + queries[key];
            }
        }
        return url;
    };
    CoreService.prototype.setDataForm = function (form, keys, data) {
        if (!data) {
            return;
        }
        var formData = {};
        for (var key in keys) {
            if (key in data) {
                var value = data[key];
                formData[key] = value;
            }
            else {
                formData[key] = '';
            }
        }
        ((form)).patchValue(formData, { onlySelf: true });
    };
    return CoreService;
}());
CoreService.apiUrl = 'http://localhost:8001';
CoreService.decorators = [
    { type: core.Injectable },
];
CoreService.ctorParameters = function () { return [
    { type: http.HttpClient, },
]; };
var ChatService = /** @class */ (function (_super) {
    __extends(ChatService, _super);
    function ChatService(http$$1) {
        var _this = _super.call(this, http$$1) || this;
        _this.http = http$$1;
        return _this;
    }
    ChatService.prototype.send = function (intent, botId) {
        if (botId === void 0) { botId = 'default'; }
        return this.doPost("/api/v1?botId=" + botId, intent);
    };
    return ChatService;
}(CoreService));
ChatService.decorators = [
    { type: core.Injectable },
];
ChatService.ctorParameters = function () { return [
    { type: http.HttpClient, },
]; };
var ChatComponent = /** @class */ (function () {
    function ChatComponent(fb, chatService) {
        this.fb = fb;
        this.chatService = chatService;
        this.chats = [];
        this.debug = false;
        this.chatFormFields = {
            input: [''],
        };
        this.chatForm = this.fb.group(this.chatFormFields);
    }
    ChatComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.chatInitial = {
            'currentNode': '',
            'complete': null, 'context': {},
            'parameters': [],
            'extractedParameters': {},
            'speechResponse': '',
            'intent': {},
            'input': 'init_conversation',
            'missingParameters': []
        };
        var botId;
        if (this.bot && this.bot._id) {
            botId = this.bot._id.$oid;
        }
        this.chatService.send(this.chatInitial, botId)
            .then(function (c) {
            c.owner = 'chat';
            _this.changeCurrent(c);
        });
    };
    ChatComponent.prototype.changeCurrent = function (c) {
        c.date = new Date();
        this.chats.push(c);
        this.chatCurrent = c;
        this.prettyChatCurrent = JSON ? JSON.stringify(c, null, '  ') : 'your browser doesnt support JSON so cant pretty print';
    };
    ChatComponent.prototype.send = function () {
        var _this = this;
        var form = this.chatForm.value;
        var sendMessage = Object.assign({}, this.chatCurrent, { input: form.input, owner: 'user' });
        this.changeCurrent(sendMessage);
        this.chatService.send(sendMessage)
            .then(function (c) {
            c.owner = 'chat';
            _this.changeCurrent(c);
            _this.chatForm.reset();
        });
    };
    return ChatComponent;
}());
ChatComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-chat',
                template: "<mat-card>\n  {{title}}\n  <div *ngFor=\"let chat of chats\">\n    <div class=\"row\" *ngIf=\"chat.owner=='user'\">\n      <div class=\"col-md-10\">\n        <h4 class=\"textright fullwidth\">{{chat.input}}</h4>\n      </div>\n      <div class=\"col-md-1\" class=\"textcenter\">\n        <mat-icon> face </mat-icon>\n      </div>\n    </div>\n    <div class=\"row\" *ngIf=\"chat.owner=='chat'\">\n      <div class=\"col-md-1\" class=\"textcenter\">\n        <mat-icon> android </mat-icon>\n      </div>\n      <div class=\"col-md-10\">\n        <h4 class=\"textleft fullwidth\" [innerHTML]=\"chat.speechResponse\"></h4>\n      </div>\n    </div>\n    <!-- <p mat-line style=\"text-color: #ccc\"> {{chat.date | date}} </p> -->\n    <!-- <mat-divider></mat-divider> -->\n  </div>\n  <form [formGroup]=\"chatForm\" *ngIf=\"chatForm\" (submit)=\"send()\">\n    <mat-input-container>\n      <input type=\"text\" matInput formControlName=\"input\" placeholder=\"Type your message here\">\n    </mat-input-container>\n    <button mat-button>send</button>\n  </form>\n</mat-card>\n<mat-card *ngIf=\"debug\">\n  POST /api/v1\n  <pre>\n    {{prettyChatCurrent}}\n  </pre>\n</mat-card>",
                styles: [".textright{\n    text-align:right;\n}\n.textleft{\n    text-align:left;\n}\n.textcenter{\n    text-align:center;\n}\n.fullwidth{\n    width:100%;\n}", ".container-fluid,\n.container{\n  margin-right:auto;\n  margin-left:auto;\n}\n.container-fluid{\n  padding-right:2rem;\n  padding-left:2rem;\n}\n.row{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-flex:0;\n  -ms-flex:0 1 auto;\n  flex:0 1 auto;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n  -ms-flex-direction:row;\n  flex-direction:row;\n  -ms-flex-wrap:wrap;\n  flex-wrap:wrap;\n  margin-right:-0.5rem;\n  margin-left:-0.5rem;\n}\n.row.reverse{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:row-reverse;\n  flex-direction:row-reverse;\n}\n.col.reverse{\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:column-reverse;\n  flex-direction:column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  -webkit-box-flex:0;\n  -ms-flex:0 0 auto;\n  flex:0 0 auto;\n  padding-right:0.5rem;\n  padding-left:0.5rem;\n}\n.col-xs{\n  -webkit-box-flex:1;\n  -ms-flex-positive:1;\n  flex-grow:1;\n  -ms-flex-preferred-size:0;\n  flex-basis:0;\n  max-width:100%;\n}\n.col-xs-1{\n  -ms-flex-preferred-size:8.33333333%;\n  flex-basis:8.33333333%;\n  max-width:8.33333333%;\n}\n.col-xs-2{\n  -ms-flex-preferred-size:16.66666667%;\n  flex-basis:16.66666667%;\n  max-width:16.66666667%;\n}\n.col-xs-3{\n  -ms-flex-preferred-size:25%;\n  flex-basis:25%;\n  max-width:25%;\n}\n.col-xs-4{\n  -ms-flex-preferred-size:33.33333333%;\n  flex-basis:33.33333333%;\n  max-width:33.33333333%;\n}\n.col-xs-5{\n  -ms-flex-preferred-size:41.66666667%;\n  flex-basis:41.66666667%;\n  max-width:41.66666667%;\n}\n.col-xs-6{\n  -ms-flex-preferred-size:50%;\n  flex-basis:50%;\n  max-width:50%;\n}\n.col-xs-7{\n  -ms-flex-preferred-size:58.33333333%;\n  flex-basis:58.33333333%;\n  max-width:58.33333333%;\n}\n.col-xs-8{\n  -ms-flex-preferred-size:66.66666667%;\n  flex-basis:66.66666667%;\n  max-width:66.66666667%;\n}\n.col-xs-9{\n  -ms-flex-preferred-size:75%;\n  flex-basis:75%;\n  max-width:75%;\n}\n.col-xs-10{\n  -ms-flex-preferred-size:83.33333333%;\n  flex-basis:83.33333333%;\n  max-width:83.33333333%;\n}\n.col-xs-11{\n  -ms-flex-preferred-size:91.66666667%;\n  flex-basis:91.66666667%;\n  max-width:91.66666667%;\n}\n.col-xs-12{\n  -ms-flex-preferred-size:100%;\n  flex-basis:100%;\n  max-width:100%;\n}\n.col-xs-offset-0{\n  margin-left:0;\n}\n.col-xs-offset-1{\n  margin-left:8.33333333%;\n}\n.col-xs-offset-2{\n  margin-left:16.66666667%;\n}\n.col-xs-offset-3{\n  margin-left:25%;\n}\n.col-xs-offset-4{\n  margin-left:33.33333333%;\n}\n.col-xs-offset-5{\n  margin-left:41.66666667%;\n}\n.col-xs-offset-6{\n  margin-left:50%;\n}\n.col-xs-offset-7{\n  margin-left:58.33333333%;\n}\n.col-xs-offset-8{\n  margin-left:66.66666667%;\n}\n.col-xs-offset-9{\n  margin-left:75%;\n}\n.col-xs-offset-10{\n  margin-left:83.33333333%;\n}\n.col-xs-offset-11{\n  margin-left:91.66666667%;\n}\n.start-xs{\n  -webkit-box-pack:start;\n  -ms-flex-pack:start;\n  justify-content:flex-start;\n  text-align:start;\n}\n.center-xs{\n  -webkit-box-pack:center;\n  -ms-flex-pack:center;\n  justify-content:center;\n  text-align:center;\n}\n.end-xs{\n  -webkit-box-pack:end;\n  -ms-flex-pack:end;\n  justify-content:flex-end;\n  text-align:end;\n}\n.top-xs{\n  -webkit-box-align:start;\n  -ms-flex-align:start;\n  align-items:flex-start;\n}\n.middle-xs{\n  -webkit-box-align:center;\n  -ms-flex-align:center;\n  align-items:center;\n}\n.bottom-xs{\n  -webkit-box-align:end;\n  -ms-flex-align:end;\n  align-items:flex-end;\n}\n.around-xs{\n  -ms-flex-pack:distribute;\n  justify-content:space-around;\n}\n.between-xs{\n  -webkit-box-pack:justify;\n  -ms-flex-pack:justify;\n  justify-content:space-between;\n}\n.first-xs{\n  -webkit-box-ordinal-group:0;\n  -ms-flex-order:-1;\n  order:-1;\n}\n.last-xs{\n  -webkit-box-ordinal-group:2;\n  -ms-flex-order:1;\n  order:1;\n}\n@media only screen and (min-width: 48em){\n  .container{\n    width:49rem;\n  }\n  .col-sm,\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-sm{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-sm-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-sm-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-sm-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-sm-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-sm-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-sm-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-sm-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-sm-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-sm-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-sm-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-sm-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-sm-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-sm-offset-0{\n    margin-left:0;\n  }\n  .col-sm-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-sm-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-sm-offset-3{\n    margin-left:25%;\n  }\n  .col-sm-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-sm-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-sm-offset-6{\n    margin-left:50%;\n  }\n  .col-sm-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-sm-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-sm-offset-9{\n    margin-left:75%;\n  }\n  .col-sm-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-sm-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-sm{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-sm{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-sm{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-sm{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-sm{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-sm{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-sm{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-sm{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-sm{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-sm{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 64em){\n  .container{\n    width:65rem;\n  }\n  .col-md,\n  .col-md-1,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-md{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-md-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-md-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-md-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-md-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-md-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-md-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-md-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-md-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-md-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-md-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-md-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-md-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-md-offset-0{\n    margin-left:0;\n  }\n  .col-md-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-md-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-md-offset-3{\n    margin-left:25%;\n  }\n  .col-md-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-md-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-md-offset-6{\n    margin-left:50%;\n  }\n  .col-md-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-md-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-md-offset-9{\n    margin-left:75%;\n  }\n  .col-md-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-md-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-md{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-md{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-md{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-md{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-md{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-md{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-md{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-md{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-md{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-md{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 75em){\n  .container{\n    width:76rem;\n  }\n  .col-lg,\n  .col-lg-1,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-lg{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-lg-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-lg-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-lg-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-lg-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-lg-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-lg-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-lg-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-lg-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-lg-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-lg-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-lg-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-lg-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-lg-offset-0{\n    margin-left:0;\n  }\n  .col-lg-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-lg-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-lg-offset-3{\n    margin-left:25%;\n  }\n  .col-lg-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-lg-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-lg-offset-6{\n    margin-left:50%;\n  }\n  .col-lg-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-lg-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-lg-offset-9{\n    margin-left:75%;\n  }\n  .col-lg-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-lg-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-lg{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-lg{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-lg{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-lg{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-lg{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-lg{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-lg{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-lg{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-lg{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-lg{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}"]
            },] },
];
ChatComponent.ctorParameters = function () { return [
    { type: forms.FormBuilder, },
    { type: ChatService, },
]; };
ChatComponent.propDecorators = {
    "bot": [{ type: core.Input },],
    "debug": [{ type: core.Input },],
    "title": [{ type: core.Input },],
};
var StoryService = /** @class */ (function (_super) {
    __extends(StoryService, _super);
    function StoryService(http$$1) {
        var _this = _super.call(this, http$$1) || this;
        _this.http = http$$1;
        return _this;
    }
    StoryService.prototype.getStories = function (botId) {
        var url = '/stories/';
        if (botId) {
            url = url + "?botId=" + botId;
        }
        return this.doGet(url);
    };
    StoryService.prototype.getStory = function (id) {
        return this.doGet("/stories/edit/" + id);
    };
    StoryService.prototype.saveStory = function (story) {
        if (story._id) {
            return this.updateStory(story);
        }
        else {
            delete story._id;
            return this.createStory(story);
        }
    };
    StoryService.prototype.createStory = function (story) {
        return this.doPost("/stories/", story);
    };
    StoryService.prototype.updateStory = function (story) {
        return this.doPut("/stories/" + story._id, story);
    };
    StoryService.prototype.buildStory = function (id) {
        return this.doPost("/core/buildModel/" + id, {});
    };
    StoryService.prototype.deleteStory = function (id) {
        return this.doDelete("/stories/" + id, {});
    };
    StoryService.prototype.startLabeling = function (sentences) {
        return this.doPost("/core/posTagAndLabel?json=true", { sentences: sentences });
    };
    StoryService.prototype.addToTestSet = function (storyId, labeledSentence, botId) {
        if (botId === void 0) { botId = 'default'; }
        return this.doPost("/train/insertLabeledSentence", { storyId: storyId, botId: botId, labeledSentence: labeledSentence });
    };
    StoryService.prototype.getBots = function () {
        return this.doGet("/stories/bot");
    };
    StoryService.prototype.saveBot = function (bot) {
        if (bot._id) {
            return this.updateBot(bot);
        }
        else {
            delete bot._id;
            return this.createBot(bot);
        }
    };
    StoryService.prototype.createBot = function (story) {
        return this.doPost("/stories/bot", story);
    };
    StoryService.prototype.updateBot = function (story) {
        return this.doPut("/stories/bot/" + story._id, story);
    };
    return StoryService;
}(CoreService));
StoryService.storyTypes = {
    'mobile': 'Mobile number',
    'email': 'Email',
    'free_text': 'Free Text',
    'number': 'Number',
    'list': 'List',
};
StoryService.decorators = [
    { type: core.Injectable },
];
StoryService.ctorParameters = function () { return [
    { type: http.HttpClient, },
]; };
var StoryDialogComponent = /** @class */ (function () {
    function StoryDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        if (data.story) {
            this.story = data.story;
        }
    }
    StoryDialogComponent.prototype.close = function (response) {
        this.dialogRef.close();
    };
    return StoryDialogComponent;
}());
StoryDialogComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-storydialog',
                template: '<ng-ai-chatbot-story [story]="story" [afterSave]="close.bind(this)"></ng-ai-chatbot-story>',
            },] },
];
StoryDialogComponent.ctorParameters = function () { return [
    { type: material.MatDialogRef, },
    { type: undefined, decorators: [{ type: core.Inject, args: [material.MAT_DIALOG_DATA,] },] },
]; };
var TrainDialogComponent = /** @class */ (function () {
    function TrainDialogComponent(dialogRef, data) {
        this.dialogRef = dialogRef;
        this.data = data;
        if (data && data.story) {
            this.story = data.story;
        }
    }
    TrainDialogComponent.prototype.close = function () {
        this.dialogRef.close();
    };
    return TrainDialogComponent;
}());
TrainDialogComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-traindialog',
                template: '<ng-ai-chatbot-train [story]="story"></ng-ai-chatbot-train>',
            },] },
];
TrainDialogComponent.ctorParameters = function () { return [
    { type: material.MatDialogRef, },
    { type: undefined, decorators: [{ type: core.Inject, args: [material.MAT_DIALOG_DATA,] },] },
]; };
TrainDialogComponent.propDecorators = {
    "story": [{ type: core.Input },],
};
var StoriesComponent = /** @class */ (function () {
    function StoriesComponent(dialog, storyService) {
        this.dialog = dialog;
        this.storyService = storyService;
    }
    StoriesComponent.prototype.ngOnInit = function () {
        var _this = this;
        var botId;
        if (this.bot && this.bot._id) {
            botId = this.bot._id.$oid;
        }
        this.storyService.getStories(botId).then(function (s) {
            _this.stories = s;
        });
    };
    StoriesComponent.prototype.openDialog = function (story) {
        var _this = this;
        if (story === void 0) { story = null; }
        var dialogRef = this.dialog.open(StoryDialogComponent, {
            width: '90%',
            data: { story: story }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            console.log('The dialog was closed');
            console.log(result);
            _this.ngOnInit();
        });
    };
    StoriesComponent.prototype.add = function () {
        this.openDialog();
    };
    StoriesComponent.prototype.edit = function (story) {
        this.openDialog(story);
    };
    StoriesComponent.prototype.train = function (story) {
        var dialogRef = this.dialog.open(TrainDialogComponent, {
            width: '99%',
            data: { story: story }
        });
        dialogRef.afterClosed().subscribe(function (result) {
            console.log('The dialog was closed');
            console.log(result);
        });
    };
    StoriesComponent.prototype.delete = function (story) {
        var _this = this;
        if (confirm('Are u sure want to delete this story?')) {
            this.storyService.deleteStory(story._id.$oid).then(function (s) {
                _this.ngOnInit();
            });
        }
    };
    StoriesComponent.prototype.build = function (story) {
        var _this = this;
        this.storyService.buildStory(story._id.$oid).then(function (s) {
            _this.ngOnInit();
        });
    };
    return StoriesComponent;
}());
StoriesComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-stories',
                template: "\n<h1>\n  Stories\n  <span *ngIf=\"bot\"> for {{bot.botName}}</span>\n  <button mat-mini-fab (click)=\"add()\">\n    <mat-icon aria-label=\"Example icon-button with a heart icon\">add</mat-icon>\n  </button>\n</h1>\n<div class=\"row\">\n  <mat-card class=\"col-md-6\" *ngFor=\"let story of stories\">\n    <mat-card-header>\n      <div mat-card-avatar class=\"example-header-image\"></div>\n      <mat-card-title>{{story.storyName}}</mat-card-title>\n    </mat-card-header>\n    <mat-card-actions>\n      <button mat-button (click)=\"edit(story)\" >Edit</button>\n      <button mat-button (click)=\"train(story)\" >Train</button>\n      <button mat-button (click)=\"delete(story)\" >Delete</button>\n      <button mat-button (click)=\"build(story)\" >Build</button>\n    </mat-card-actions>\n  </mat-card>\n</div>\n",
                styles: ["", ".container-fluid,\n.container{\n  margin-right:auto;\n  margin-left:auto;\n}\n.container-fluid{\n  padding-right:2rem;\n  padding-left:2rem;\n}\n.row{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-flex:0;\n  -ms-flex:0 1 auto;\n  flex:0 1 auto;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n  -ms-flex-direction:row;\n  flex-direction:row;\n  -ms-flex-wrap:wrap;\n  flex-wrap:wrap;\n  margin-right:-0.5rem;\n  margin-left:-0.5rem;\n}\n.row.reverse{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:row-reverse;\n  flex-direction:row-reverse;\n}\n.col.reverse{\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:column-reverse;\n  flex-direction:column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  -webkit-box-flex:0;\n  -ms-flex:0 0 auto;\n  flex:0 0 auto;\n  padding-right:0.5rem;\n  padding-left:0.5rem;\n}\n.col-xs{\n  -webkit-box-flex:1;\n  -ms-flex-positive:1;\n  flex-grow:1;\n  -ms-flex-preferred-size:0;\n  flex-basis:0;\n  max-width:100%;\n}\n.col-xs-1{\n  -ms-flex-preferred-size:8.33333333%;\n  flex-basis:8.33333333%;\n  max-width:8.33333333%;\n}\n.col-xs-2{\n  -ms-flex-preferred-size:16.66666667%;\n  flex-basis:16.66666667%;\n  max-width:16.66666667%;\n}\n.col-xs-3{\n  -ms-flex-preferred-size:25%;\n  flex-basis:25%;\n  max-width:25%;\n}\n.col-xs-4{\n  -ms-flex-preferred-size:33.33333333%;\n  flex-basis:33.33333333%;\n  max-width:33.33333333%;\n}\n.col-xs-5{\n  -ms-flex-preferred-size:41.66666667%;\n  flex-basis:41.66666667%;\n  max-width:41.66666667%;\n}\n.col-xs-6{\n  -ms-flex-preferred-size:50%;\n  flex-basis:50%;\n  max-width:50%;\n}\n.col-xs-7{\n  -ms-flex-preferred-size:58.33333333%;\n  flex-basis:58.33333333%;\n  max-width:58.33333333%;\n}\n.col-xs-8{\n  -ms-flex-preferred-size:66.66666667%;\n  flex-basis:66.66666667%;\n  max-width:66.66666667%;\n}\n.col-xs-9{\n  -ms-flex-preferred-size:75%;\n  flex-basis:75%;\n  max-width:75%;\n}\n.col-xs-10{\n  -ms-flex-preferred-size:83.33333333%;\n  flex-basis:83.33333333%;\n  max-width:83.33333333%;\n}\n.col-xs-11{\n  -ms-flex-preferred-size:91.66666667%;\n  flex-basis:91.66666667%;\n  max-width:91.66666667%;\n}\n.col-xs-12{\n  -ms-flex-preferred-size:100%;\n  flex-basis:100%;\n  max-width:100%;\n}\n.col-xs-offset-0{\n  margin-left:0;\n}\n.col-xs-offset-1{\n  margin-left:8.33333333%;\n}\n.col-xs-offset-2{\n  margin-left:16.66666667%;\n}\n.col-xs-offset-3{\n  margin-left:25%;\n}\n.col-xs-offset-4{\n  margin-left:33.33333333%;\n}\n.col-xs-offset-5{\n  margin-left:41.66666667%;\n}\n.col-xs-offset-6{\n  margin-left:50%;\n}\n.col-xs-offset-7{\n  margin-left:58.33333333%;\n}\n.col-xs-offset-8{\n  margin-left:66.66666667%;\n}\n.col-xs-offset-9{\n  margin-left:75%;\n}\n.col-xs-offset-10{\n  margin-left:83.33333333%;\n}\n.col-xs-offset-11{\n  margin-left:91.66666667%;\n}\n.start-xs{\n  -webkit-box-pack:start;\n  -ms-flex-pack:start;\n  justify-content:flex-start;\n  text-align:start;\n}\n.center-xs{\n  -webkit-box-pack:center;\n  -ms-flex-pack:center;\n  justify-content:center;\n  text-align:center;\n}\n.end-xs{\n  -webkit-box-pack:end;\n  -ms-flex-pack:end;\n  justify-content:flex-end;\n  text-align:end;\n}\n.top-xs{\n  -webkit-box-align:start;\n  -ms-flex-align:start;\n  align-items:flex-start;\n}\n.middle-xs{\n  -webkit-box-align:center;\n  -ms-flex-align:center;\n  align-items:center;\n}\n.bottom-xs{\n  -webkit-box-align:end;\n  -ms-flex-align:end;\n  align-items:flex-end;\n}\n.around-xs{\n  -ms-flex-pack:distribute;\n  justify-content:space-around;\n}\n.between-xs{\n  -webkit-box-pack:justify;\n  -ms-flex-pack:justify;\n  justify-content:space-between;\n}\n.first-xs{\n  -webkit-box-ordinal-group:0;\n  -ms-flex-order:-1;\n  order:-1;\n}\n.last-xs{\n  -webkit-box-ordinal-group:2;\n  -ms-flex-order:1;\n  order:1;\n}\n@media only screen and (min-width: 48em){\n  .container{\n    width:49rem;\n  }\n  .col-sm,\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-sm{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-sm-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-sm-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-sm-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-sm-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-sm-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-sm-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-sm-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-sm-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-sm-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-sm-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-sm-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-sm-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-sm-offset-0{\n    margin-left:0;\n  }\n  .col-sm-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-sm-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-sm-offset-3{\n    margin-left:25%;\n  }\n  .col-sm-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-sm-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-sm-offset-6{\n    margin-left:50%;\n  }\n  .col-sm-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-sm-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-sm-offset-9{\n    margin-left:75%;\n  }\n  .col-sm-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-sm-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-sm{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-sm{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-sm{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-sm{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-sm{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-sm{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-sm{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-sm{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-sm{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-sm{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 64em){\n  .container{\n    width:65rem;\n  }\n  .col-md,\n  .col-md-1,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-md{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-md-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-md-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-md-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-md-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-md-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-md-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-md-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-md-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-md-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-md-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-md-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-md-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-md-offset-0{\n    margin-left:0;\n  }\n  .col-md-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-md-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-md-offset-3{\n    margin-left:25%;\n  }\n  .col-md-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-md-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-md-offset-6{\n    margin-left:50%;\n  }\n  .col-md-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-md-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-md-offset-9{\n    margin-left:75%;\n  }\n  .col-md-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-md-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-md{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-md{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-md{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-md{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-md{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-md{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-md{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-md{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-md{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-md{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 75em){\n  .container{\n    width:76rem;\n  }\n  .col-lg,\n  .col-lg-1,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-lg{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-lg-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-lg-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-lg-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-lg-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-lg-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-lg-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-lg-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-lg-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-lg-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-lg-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-lg-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-lg-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-lg-offset-0{\n    margin-left:0;\n  }\n  .col-lg-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-lg-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-lg-offset-3{\n    margin-left:25%;\n  }\n  .col-lg-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-lg-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-lg-offset-6{\n    margin-left:50%;\n  }\n  .col-lg-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-lg-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-lg-offset-9{\n    margin-left:75%;\n  }\n  .col-lg-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-lg-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-lg{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-lg{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-lg{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-lg{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-lg{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-lg{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-lg{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-lg{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-lg{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-lg{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}"]
            },] },
];
StoriesComponent.ctorParameters = function () { return [
    { type: material.MatDialog, },
    { type: StoryService, },
]; };
StoriesComponent.propDecorators = {
    "bot": [{ type: core.Input },],
};
var TrainComponent = /** @class */ (function () {
    function TrainComponent(fb, storyService) {
        this.fb = fb;
        this.storyService = storyService;
        this.trainFormFields = {
            input: [''],
        };
        this.trainForm = this.fb.group(this.trainFormFields);
        this.testFormFields = {
            input: [''],
        };
        this.testForm = this.fb.group(this.testFormFields);
    }
    TrainComponent.prototype.ngOnInit = function () {
        console.log(this.story);
        if (this.story) {
            if (this.story._id && this.story._id.$oid) {
                this.story._id = this.story._id.$oid;
            }
        }
    };
    TrainComponent.prototype.addTest = function () {
    };
    TrainComponent.prototype.buildModel = function () {
        var _this = this;
        this.storyService.buildStory(this.story._id)
            .then(function (c) {
            _this.message = 'Build sucessfull';
        })
            .catch(function (c) {
            _this.message = 'Error on Building';
        });
    };
    TrainComponent.prototype.clear = function () {
        this.trainForm.reset();
    };
    TrainComponent.prototype.startLabeling = function () {
        var _this = this;
        var form = this.trainForm.value;
        this.storyService.startLabeling(form.input)
            .then(function (c) {
            _this.labelled = c;
        })
            .catch(function (c) {
            _this.message = 'Error on labelling';
        });
    };
    TrainComponent.prototype.deleteSetence = function (i) {
        var array = this.story.labeledSentences;
        array.splice(i, 1);
    };
    return TrainComponent;
}());
TrainComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-train',
                template: "<p>\n  Train your story for possible user inputs. Tag required parameters using mouse and give em labels\n</p>\n<form [formGroup]=\"trainForm\" *ngIf=\"trainForm\" (submit)=\"startLabeling()\" class=\"row\">\n  <mat-input-container class=\"col-md-10\">\n    <textarea matInput rows=\"3\" formControlName=\"input\" placeholder=\"Enter a sample input\"></textarea>\n  </mat-input-container>\n  <button class=\"col-md-1\" type=\"button\" (click)=\"clear()\" mat-button>Clear</button>\n  <button class=\"col-md-1\" mat-button>Start Labeling</button>\n</form>\n<form [formGroup]=\"testForm\" *ngIf=\"testForm\" (submit)=\"addTest()\" class=\"row\">\n  <mat-input-container class=\"col-md-8\">\n    <input type=\"text\" matInput formControlName=\"input\" placeholder=\"Mark as label\">\n  </mat-input-container>\n  <button type=\"button\" class=\"col-md-2\" (click)=\"buildModel()\" mat-button>Build Model</button>\n  <button mat-button class=\"col-md-2\">Add To Test Set</button>\n</form>\n<p *ngIf=\"labelled\">\n  {{labelled}}\n</p>\n<h2>View labeled sentences</h2>\n<section class=\"labeledSentences\" *ngIf=\"story\">\n  <div *ngFor=\"let trainS of story.labeledSentences; let i=index;\" class=\"row\">\n    <p clas=\"col-md-10\">{{trainS.data}}\n    </p>\n    <button type=\"button\" class=\"col-md-2\" (click)=\"deleteSetence(i)\" mat-button>delete</button>\n  </div>\n</section>",
                styles: ["\nsection .labeledSentences{\n    overflow-y:auto;\n    height:200px;\n}", ".container-fluid,\n.container{\n  margin-right:auto;\n  margin-left:auto;\n}\n.container-fluid{\n  padding-right:2rem;\n  padding-left:2rem;\n}\n.row{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-flex:0;\n  -ms-flex:0 1 auto;\n  flex:0 1 auto;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n  -ms-flex-direction:row;\n  flex-direction:row;\n  -ms-flex-wrap:wrap;\n  flex-wrap:wrap;\n  margin-right:-0.5rem;\n  margin-left:-0.5rem;\n}\n.row.reverse{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:row-reverse;\n  flex-direction:row-reverse;\n}\n.col.reverse{\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:column-reverse;\n  flex-direction:column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  -webkit-box-flex:0;\n  -ms-flex:0 0 auto;\n  flex:0 0 auto;\n  padding-right:0.5rem;\n  padding-left:0.5rem;\n}\n.col-xs{\n  -webkit-box-flex:1;\n  -ms-flex-positive:1;\n  flex-grow:1;\n  -ms-flex-preferred-size:0;\n  flex-basis:0;\n  max-width:100%;\n}\n.col-xs-1{\n  -ms-flex-preferred-size:8.33333333%;\n  flex-basis:8.33333333%;\n  max-width:8.33333333%;\n}\n.col-xs-2{\n  -ms-flex-preferred-size:16.66666667%;\n  flex-basis:16.66666667%;\n  max-width:16.66666667%;\n}\n.col-xs-3{\n  -ms-flex-preferred-size:25%;\n  flex-basis:25%;\n  max-width:25%;\n}\n.col-xs-4{\n  -ms-flex-preferred-size:33.33333333%;\n  flex-basis:33.33333333%;\n  max-width:33.33333333%;\n}\n.col-xs-5{\n  -ms-flex-preferred-size:41.66666667%;\n  flex-basis:41.66666667%;\n  max-width:41.66666667%;\n}\n.col-xs-6{\n  -ms-flex-preferred-size:50%;\n  flex-basis:50%;\n  max-width:50%;\n}\n.col-xs-7{\n  -ms-flex-preferred-size:58.33333333%;\n  flex-basis:58.33333333%;\n  max-width:58.33333333%;\n}\n.col-xs-8{\n  -ms-flex-preferred-size:66.66666667%;\n  flex-basis:66.66666667%;\n  max-width:66.66666667%;\n}\n.col-xs-9{\n  -ms-flex-preferred-size:75%;\n  flex-basis:75%;\n  max-width:75%;\n}\n.col-xs-10{\n  -ms-flex-preferred-size:83.33333333%;\n  flex-basis:83.33333333%;\n  max-width:83.33333333%;\n}\n.col-xs-11{\n  -ms-flex-preferred-size:91.66666667%;\n  flex-basis:91.66666667%;\n  max-width:91.66666667%;\n}\n.col-xs-12{\n  -ms-flex-preferred-size:100%;\n  flex-basis:100%;\n  max-width:100%;\n}\n.col-xs-offset-0{\n  margin-left:0;\n}\n.col-xs-offset-1{\n  margin-left:8.33333333%;\n}\n.col-xs-offset-2{\n  margin-left:16.66666667%;\n}\n.col-xs-offset-3{\n  margin-left:25%;\n}\n.col-xs-offset-4{\n  margin-left:33.33333333%;\n}\n.col-xs-offset-5{\n  margin-left:41.66666667%;\n}\n.col-xs-offset-6{\n  margin-left:50%;\n}\n.col-xs-offset-7{\n  margin-left:58.33333333%;\n}\n.col-xs-offset-8{\n  margin-left:66.66666667%;\n}\n.col-xs-offset-9{\n  margin-left:75%;\n}\n.col-xs-offset-10{\n  margin-left:83.33333333%;\n}\n.col-xs-offset-11{\n  margin-left:91.66666667%;\n}\n.start-xs{\n  -webkit-box-pack:start;\n  -ms-flex-pack:start;\n  justify-content:flex-start;\n  text-align:start;\n}\n.center-xs{\n  -webkit-box-pack:center;\n  -ms-flex-pack:center;\n  justify-content:center;\n  text-align:center;\n}\n.end-xs{\n  -webkit-box-pack:end;\n  -ms-flex-pack:end;\n  justify-content:flex-end;\n  text-align:end;\n}\n.top-xs{\n  -webkit-box-align:start;\n  -ms-flex-align:start;\n  align-items:flex-start;\n}\n.middle-xs{\n  -webkit-box-align:center;\n  -ms-flex-align:center;\n  align-items:center;\n}\n.bottom-xs{\n  -webkit-box-align:end;\n  -ms-flex-align:end;\n  align-items:flex-end;\n}\n.around-xs{\n  -ms-flex-pack:distribute;\n  justify-content:space-around;\n}\n.between-xs{\n  -webkit-box-pack:justify;\n  -ms-flex-pack:justify;\n  justify-content:space-between;\n}\n.first-xs{\n  -webkit-box-ordinal-group:0;\n  -ms-flex-order:-1;\n  order:-1;\n}\n.last-xs{\n  -webkit-box-ordinal-group:2;\n  -ms-flex-order:1;\n  order:1;\n}\n@media only screen and (min-width: 48em){\n  .container{\n    width:49rem;\n  }\n  .col-sm,\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-sm{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-sm-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-sm-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-sm-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-sm-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-sm-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-sm-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-sm-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-sm-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-sm-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-sm-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-sm-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-sm-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-sm-offset-0{\n    margin-left:0;\n  }\n  .col-sm-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-sm-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-sm-offset-3{\n    margin-left:25%;\n  }\n  .col-sm-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-sm-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-sm-offset-6{\n    margin-left:50%;\n  }\n  .col-sm-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-sm-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-sm-offset-9{\n    margin-left:75%;\n  }\n  .col-sm-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-sm-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-sm{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-sm{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-sm{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-sm{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-sm{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-sm{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-sm{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-sm{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-sm{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-sm{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 64em){\n  .container{\n    width:65rem;\n  }\n  .col-md,\n  .col-md-1,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-md{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-md-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-md-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-md-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-md-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-md-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-md-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-md-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-md-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-md-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-md-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-md-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-md-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-md-offset-0{\n    margin-left:0;\n  }\n  .col-md-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-md-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-md-offset-3{\n    margin-left:25%;\n  }\n  .col-md-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-md-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-md-offset-6{\n    margin-left:50%;\n  }\n  .col-md-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-md-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-md-offset-9{\n    margin-left:75%;\n  }\n  .col-md-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-md-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-md{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-md{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-md{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-md{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-md{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-md{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-md{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-md{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-md{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-md{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 75em){\n  .container{\n    width:76rem;\n  }\n  .col-lg,\n  .col-lg-1,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-lg{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-lg-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-lg-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-lg-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-lg-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-lg-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-lg-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-lg-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-lg-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-lg-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-lg-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-lg-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-lg-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-lg-offset-0{\n    margin-left:0;\n  }\n  .col-lg-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-lg-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-lg-offset-3{\n    margin-left:25%;\n  }\n  .col-lg-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-lg-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-lg-offset-6{\n    margin-left:50%;\n  }\n  .col-lg-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-lg-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-lg-offset-9{\n    margin-left:75%;\n  }\n  .col-lg-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-lg-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-lg{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-lg{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-lg{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-lg{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-lg{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-lg{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-lg{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-lg{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-lg{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-lg{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}"]
            },] },
];
TrainComponent.ctorParameters = function () { return [
    { type: forms.FormBuilder, },
    { type: StoryService, },
]; };
TrainComponent.propDecorators = {
    "story": [{ type: core.Input },],
};
var StoryComponent = /** @class */ (function () {
    function StoryComponent(fb, coreService, storyService) {
        this.fb = fb;
        this.coreService = coreService;
        this.storyService = storyService;
    }
    StoryComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.storyTypes = StoryService.storyTypes;
        this.storyTypesArray = Object.keys(this.storyTypes);
        this.storyFormFields = {
            _id: [''],
            storyName: [''],
            intentName: [''],
            speechResponse: [''],
            apiTrigger: [''],
            apiDetails: this.initApiDetails(),
            parameters: this.fb.array(this.story && this.story.parameters ? this.story.parameters.map(function (n) {
                return _this.initParameter(n);
            }) : [])
        };
        this.storyForm = this.fb.group(this.storyFormFields);
        if (this.story) {
            this.coreService.setDataForm(this.storyForm, this.storyFormFields, this.story);
        }
    };
    StoryComponent.prototype.addParameter = function () {
        var control = (this.storyForm.controls['parameters']);
        control.push(this.initParameter());
    };
    StoryComponent.prototype.initParameter = function (parameter) {
        if (parameter === void 0) { parameter = null; }
        var fields = {
            name: [''],
            type: [''],
            required: [''],
            prompt: ['']
        };
        var g = this.fb.group(fields);
        return g;
    };
    StoryComponent.prototype.deleteParameter = function (i) {
        var control = (this.storyForm.controls['parameters']);
        control.removeAt(i);
    };
    StoryComponent.prototype.initApiDetails = function (parameter) {
        if (parameter === void 0) { parameter = null; }
        var fields = {
            isJson: [''],
            url: [''],
            requestType: [''],
            jsonData: ['']
        };
        var g = this.fb.group(fields);
        return g;
    };
    StoryComponent.prototype.save = function () {
        var _this = this;
        var form = this.storyForm.value;
        if (form._id && form._id.$oid) {
            form._id = form._id.$oid;
        }
        if (!this.apiTrigger()) {
            delete form.apiDetails;
        }
        this.storyService.saveStory(form)
            .then(function (c) {
            _this.message = 'Story created!';
            if (_this.afterSave) {
                _this.afterSave(c);
            }
        });
    };
    StoryComponent.prototype.apiTrigger = function () {
        return this.storyForm.value.apiTrigger;
    };
    return StoryComponent;
}());
StoryComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-story',
                template: "<h2>{{message}}</h2>\n<form [formGroup]=\"storyForm\" *ngIf=\"storyForm\" (submit)=\"save()\" class=\"row\">\n  <mat-input-container class=\"col-md-6\">\n    <textarea matInput formControlName=\"storyName\" placeholder=\"Story name\"></textarea>\n  </mat-input-container>\n  <mat-input-container class=\"col-md-6\">\n    <textarea matInput formControlName=\"intentName\" placeholder=\"Intent key\"></textarea>\n  </mat-input-container>\n  <h2 class=\"col-md-12\">Parameters\n    <button type=\"button\" (click)=\"addParameter()\" mat-button>add</button>\n  </h2>\n  <section class=\"col-md-12 parameters\" formArrayName=\"parameters\">\n    <div *ngFor=\"let paremeter of storyForm.controls.parameters.controls; let i=index;\">\n      <div [formGroup]=\"paremeter\" class=\"row\">\n        <mat-input-container class=\"col-md-5\">\n          <textarea matInput formControlName=\"name\" placeholder=\"Parameter name\"></textarea>\n        </mat-input-container>\n        <mat-input-container class=\"col-md-4\">\n          <mat-select formControlName=\"type\" placeholder=\"Parameter type\">\n            <mat-option *ngFor=\"let story of storyTypesArray\" [value]=\"story\">\n              {{ storyTypes[story] }}\n            </mat-option>\n          </mat-select>\n        </mat-input-container>\n        <mat-checkbox class=\"col-md-2\" formControlName=\"required\">Required</mat-checkbox>\n        <mat-input-container class=\"col-md-10\" *ngIf=\"paremeter.controls.required.value\">\n          <textarea matInput formControlName=\"prompt\" placeholder=\"Message to prompt when require\"></textarea>\n        </mat-input-container>\n        <button type=\"button\" class=\"col-md-1\" (click)=\"deleteParameter(i)\" mat-button>delete</button>\n      </div>\n    </div>\n  </section>\n  <h2 class=\"col-md-12\">\n    <mat-checkbox formControlName=\"apiTrigger\">API trigger</mat-checkbox>\n  </h2>\n  <section class=\"row\" [formGroup]=\"storyForm.controls.apiDetails\" *ngIf=\"apiTrigger()\">\n    <mat-checkbox class=\"col-md-2\" formControlName=\"isJson\">JSON</mat-checkbox>\n    <mat-input-container class=\"col-md-6\">\n      <textarea matInput formControlName=\"url\" placeholder=\"API url\"></textarea>\n    </mat-input-container>\n    <mat-input-container class=\"col-md-2\">\n      <mat-select formControlName=\"requestType\" placeholder=\"API method\">\n        <mat-option value=\"GET\">GET</mat-option>\n        <mat-option value=\"POST\">POST</mat-option>\n        <mat-option value=\"PUT\">PUT</mat-option>\n        <mat-option value=\"DELETE\">DELETE</mat-option>\n      </mat-select>\n    </mat-input-container>\n    <mat-input-container class=\"col-md-12\">\n      <textarea matInput formControlName=\"jsonData\" placeholder=\"JsonData\"></textarea>\n    </mat-input-container>\n  </section>\n  <mat-input-container class=\"col-md-12\">\n    <textarea matInput formControlName=\"speechResponse\" placeholder=\"Intent key\"></textarea>\n  </mat-input-container>\n  <p>\n    Extracted parameters and api call response can be accessed from speech respone using \"parameters\" and \"result\" objects respectively\n  </p>\n  <button class=\"col-md-1\" mat-button>Save</button>\n</form>",
                styles: ["\nsection.parameters{\n    overflow-y:auto;\n    height:200px;\n}", ".container-fluid,\n.container{\n  margin-right:auto;\n  margin-left:auto;\n}\n.container-fluid{\n  padding-right:2rem;\n  padding-left:2rem;\n}\n.row{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-flex:0;\n  -ms-flex:0 1 auto;\n  flex:0 1 auto;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n  -ms-flex-direction:row;\n  flex-direction:row;\n  -ms-flex-wrap:wrap;\n  flex-wrap:wrap;\n  margin-right:-0.5rem;\n  margin-left:-0.5rem;\n}\n.row.reverse{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:row-reverse;\n  flex-direction:row-reverse;\n}\n.col.reverse{\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:column-reverse;\n  flex-direction:column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  -webkit-box-flex:0;\n  -ms-flex:0 0 auto;\n  flex:0 0 auto;\n  padding-right:0.5rem;\n  padding-left:0.5rem;\n}\n.col-xs{\n  -webkit-box-flex:1;\n  -ms-flex-positive:1;\n  flex-grow:1;\n  -ms-flex-preferred-size:0;\n  flex-basis:0;\n  max-width:100%;\n}\n.col-xs-1{\n  -ms-flex-preferred-size:8.33333333%;\n  flex-basis:8.33333333%;\n  max-width:8.33333333%;\n}\n.col-xs-2{\n  -ms-flex-preferred-size:16.66666667%;\n  flex-basis:16.66666667%;\n  max-width:16.66666667%;\n}\n.col-xs-3{\n  -ms-flex-preferred-size:25%;\n  flex-basis:25%;\n  max-width:25%;\n}\n.col-xs-4{\n  -ms-flex-preferred-size:33.33333333%;\n  flex-basis:33.33333333%;\n  max-width:33.33333333%;\n}\n.col-xs-5{\n  -ms-flex-preferred-size:41.66666667%;\n  flex-basis:41.66666667%;\n  max-width:41.66666667%;\n}\n.col-xs-6{\n  -ms-flex-preferred-size:50%;\n  flex-basis:50%;\n  max-width:50%;\n}\n.col-xs-7{\n  -ms-flex-preferred-size:58.33333333%;\n  flex-basis:58.33333333%;\n  max-width:58.33333333%;\n}\n.col-xs-8{\n  -ms-flex-preferred-size:66.66666667%;\n  flex-basis:66.66666667%;\n  max-width:66.66666667%;\n}\n.col-xs-9{\n  -ms-flex-preferred-size:75%;\n  flex-basis:75%;\n  max-width:75%;\n}\n.col-xs-10{\n  -ms-flex-preferred-size:83.33333333%;\n  flex-basis:83.33333333%;\n  max-width:83.33333333%;\n}\n.col-xs-11{\n  -ms-flex-preferred-size:91.66666667%;\n  flex-basis:91.66666667%;\n  max-width:91.66666667%;\n}\n.col-xs-12{\n  -ms-flex-preferred-size:100%;\n  flex-basis:100%;\n  max-width:100%;\n}\n.col-xs-offset-0{\n  margin-left:0;\n}\n.col-xs-offset-1{\n  margin-left:8.33333333%;\n}\n.col-xs-offset-2{\n  margin-left:16.66666667%;\n}\n.col-xs-offset-3{\n  margin-left:25%;\n}\n.col-xs-offset-4{\n  margin-left:33.33333333%;\n}\n.col-xs-offset-5{\n  margin-left:41.66666667%;\n}\n.col-xs-offset-6{\n  margin-left:50%;\n}\n.col-xs-offset-7{\n  margin-left:58.33333333%;\n}\n.col-xs-offset-8{\n  margin-left:66.66666667%;\n}\n.col-xs-offset-9{\n  margin-left:75%;\n}\n.col-xs-offset-10{\n  margin-left:83.33333333%;\n}\n.col-xs-offset-11{\n  margin-left:91.66666667%;\n}\n.start-xs{\n  -webkit-box-pack:start;\n  -ms-flex-pack:start;\n  justify-content:flex-start;\n  text-align:start;\n}\n.center-xs{\n  -webkit-box-pack:center;\n  -ms-flex-pack:center;\n  justify-content:center;\n  text-align:center;\n}\n.end-xs{\n  -webkit-box-pack:end;\n  -ms-flex-pack:end;\n  justify-content:flex-end;\n  text-align:end;\n}\n.top-xs{\n  -webkit-box-align:start;\n  -ms-flex-align:start;\n  align-items:flex-start;\n}\n.middle-xs{\n  -webkit-box-align:center;\n  -ms-flex-align:center;\n  align-items:center;\n}\n.bottom-xs{\n  -webkit-box-align:end;\n  -ms-flex-align:end;\n  align-items:flex-end;\n}\n.around-xs{\n  -ms-flex-pack:distribute;\n  justify-content:space-around;\n}\n.between-xs{\n  -webkit-box-pack:justify;\n  -ms-flex-pack:justify;\n  justify-content:space-between;\n}\n.first-xs{\n  -webkit-box-ordinal-group:0;\n  -ms-flex-order:-1;\n  order:-1;\n}\n.last-xs{\n  -webkit-box-ordinal-group:2;\n  -ms-flex-order:1;\n  order:1;\n}\n@media only screen and (min-width: 48em){\n  .container{\n    width:49rem;\n  }\n  .col-sm,\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-sm{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-sm-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-sm-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-sm-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-sm-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-sm-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-sm-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-sm-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-sm-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-sm-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-sm-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-sm-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-sm-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-sm-offset-0{\n    margin-left:0;\n  }\n  .col-sm-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-sm-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-sm-offset-3{\n    margin-left:25%;\n  }\n  .col-sm-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-sm-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-sm-offset-6{\n    margin-left:50%;\n  }\n  .col-sm-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-sm-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-sm-offset-9{\n    margin-left:75%;\n  }\n  .col-sm-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-sm-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-sm{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-sm{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-sm{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-sm{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-sm{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-sm{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-sm{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-sm{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-sm{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-sm{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 64em){\n  .container{\n    width:65rem;\n  }\n  .col-md,\n  .col-md-1,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-md{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-md-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-md-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-md-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-md-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-md-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-md-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-md-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-md-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-md-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-md-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-md-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-md-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-md-offset-0{\n    margin-left:0;\n  }\n  .col-md-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-md-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-md-offset-3{\n    margin-left:25%;\n  }\n  .col-md-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-md-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-md-offset-6{\n    margin-left:50%;\n  }\n  .col-md-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-md-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-md-offset-9{\n    margin-left:75%;\n  }\n  .col-md-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-md-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-md{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-md{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-md{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-md{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-md{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-md{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-md{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-md{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-md{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-md{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 75em){\n  .container{\n    width:76rem;\n  }\n  .col-lg,\n  .col-lg-1,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-lg{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-lg-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-lg-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-lg-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-lg-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-lg-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-lg-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-lg-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-lg-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-lg-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-lg-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-lg-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-lg-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-lg-offset-0{\n    margin-left:0;\n  }\n  .col-lg-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-lg-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-lg-offset-3{\n    margin-left:25%;\n  }\n  .col-lg-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-lg-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-lg-offset-6{\n    margin-left:50%;\n  }\n  .col-lg-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-lg-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-lg-offset-9{\n    margin-left:75%;\n  }\n  .col-lg-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-lg-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-lg{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-lg{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-lg{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-lg{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-lg{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-lg{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-lg{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-lg{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-lg{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-lg{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}"]
            },] },
];
StoryComponent.ctorParameters = function () { return [
    { type: forms.FormBuilder, },
    { type: CoreService, },
    { type: StoryService, },
]; };
StoryComponent.propDecorators = {
    "afterSave": [{ type: core.Input },],
    "story": [{ type: core.Input },],
};
var BotsComponent = /** @class */ (function () {
    function BotsComponent(dialog, fb, storyService) {
        this.dialog = dialog;
        this.fb = fb;
        this.storyService = storyService;
        this.showAddForm = false;
    }
    BotsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.botFormFields = {
            _id: [''],
            botName: [''],
            username: [''],
            password: ['']
        };
        this.botForm = this.fb.group(this.botFormFields);
        this.storyService.getBots().then(function (s) {
            _this.bots = s;
            _this.bots.push({ botName: 'default' });
        });
    };
    BotsComponent.prototype.stories = function (bot) {
        if (this.storiesBot) {
            this.storiesBot(bot);
        }
    };
    BotsComponent.prototype.edit = function (bot) {
    };
    BotsComponent.prototype.login = function () {
        var _this = this;
        var form = this.botForm.value;
        localStorage["botToken"] = btoa(form.username + ":" + form.password);
        this.storyService.getBots()
            .then(function (c) {
            _this.bots = c;
        });
    };
    BotsComponent.prototype.save = function () {
        var _this = this;
        var form = this.botForm.value;
        this.storyService.saveBot(form)
            .then(function (c) {
            if (_this.afterSave) {
                _this.afterSave(c);
            }
            _this.ngOnInit();
            _this.showAddForm = false;
        })
            .catch(function (c) {
            _this.message = 'Error saving bot';
        });
    };
    return BotsComponent;
}());
BotsComponent.decorators = [
    { type: core.Component, args: [{
                selector: 'ng-ai-chatbot-bots',
                template: "<h1>\n  Bots\n  <button mat-mini-fab (click)=\"showAddForm=true\">\n    <mat-icon aria-label=\"Example icon-button with a heart icon\">add</mat-icon>\n  </button>\n</h1>\n<form [formGroup]=\"botForm\" (submit)=\"save()\" class=\"row\" *ngIf=\"botForm && showAddForm\">\n  {{message}}\n  <mat-input-container class=\"col-md-4\">\n    <textarea matInput formControlName=\"botName\" placeholder=\"Bot name\"></textarea>\n  </mat-input-container>\n  <mat-input-container class=\"col-md-4\">\n    <input matInput formControlName=\"username\" placeholder=\"username\"/>\n  </mat-input-container>\n  <mat-input-container class=\"col-md-3\">\n    <input type=\"password\" matInput formControlName=\"password\" placeholder=\"password\"/>\n  </mat-input-container>\n  <button class=\"col-md-1\" mat-button>Save</button>\n</form>\n<form [formGroup]=\"botForm\" (submit)=\"login()\" class=\"row\" *ngIf=\"botForm && !showAddForm\">\n    <h3>Login your bot</h3>\n    <mat-input-container class=\"col-md-4\">\n      <input matInput formControlName=\"username\" placeholder=\"username\"/>\n    </mat-input-container>\n    <mat-input-container class=\"col-md-3\">\n      <input  type=\"password\" matInput formControlName=\"password\" placeholder=\"password\"/>\n    </mat-input-container>\n    <button class=\"col-md-1\" mat-button>Save</button>\n  </form>\n<div class=\"row\">\n  <mat-card class=\"col-md-6\" *ngFor=\"let bot of bots\">\n    <mat-card-header>\n      <div mat-card-avatar class=\"example-header-image\"></div>\n      <mat-card-title>{{bot.botName}}</mat-card-title>\n    </mat-card-header>\n    <mat-card-actions>\n      <button mat-button (click)=\"edit(bot)\" *ngIf=\"bot._id\">Edit</button>\n      <button mat-button (click)=\"stories(bot)\">Stories</button>\n    </mat-card-actions>\n  </mat-card>\n</div>",
                styles: ["", ".container-fluid,\n.container{\n  margin-right:auto;\n  margin-left:auto;\n}\n.container-fluid{\n  padding-right:2rem;\n  padding-left:2rem;\n}\n.row{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  display:-webkit-box;\n  display:-ms-flexbox;\n  display:flex;\n  -webkit-box-flex:0;\n  -ms-flex:0 1 auto;\n  flex:0 1 auto;\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:normal;\n  -ms-flex-direction:row;\n  flex-direction:row;\n  -ms-flex-wrap:wrap;\n  flex-wrap:wrap;\n  margin-right:-0.5rem;\n  margin-left:-0.5rem;\n}\n.row.reverse{\n  -webkit-box-orient:horizontal;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:row-reverse;\n  flex-direction:row-reverse;\n}\n.col.reverse{\n  -webkit-box-orient:vertical;\n  -webkit-box-direction:reverse;\n  -ms-flex-direction:column-reverse;\n  flex-direction:column-reverse;\n}\n.col-xs,\n.col-xs-1,\n.col-xs-2,\n.col-xs-3,\n.col-xs-4,\n.col-xs-5,\n.col-xs-6,\n.col-xs-7,\n.col-xs-8,\n.col-xs-9,\n.col-xs-10,\n.col-xs-11,\n.col-xs-12,\n.col-xs-offset-0,\n.col-xs-offset-1,\n.col-xs-offset-2,\n.col-xs-offset-3,\n.col-xs-offset-4,\n.col-xs-offset-5,\n.col-xs-offset-6,\n.col-xs-offset-7,\n.col-xs-offset-8,\n.col-xs-offset-9,\n.col-xs-offset-10,\n.col-xs-offset-11,\n.col-xs-offset-12{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box;\n  -webkit-box-flex:0;\n  -ms-flex:0 0 auto;\n  flex:0 0 auto;\n  padding-right:0.5rem;\n  padding-left:0.5rem;\n}\n.col-xs{\n  -webkit-box-flex:1;\n  -ms-flex-positive:1;\n  flex-grow:1;\n  -ms-flex-preferred-size:0;\n  flex-basis:0;\n  max-width:100%;\n}\n.col-xs-1{\n  -ms-flex-preferred-size:8.33333333%;\n  flex-basis:8.33333333%;\n  max-width:8.33333333%;\n}\n.col-xs-2{\n  -ms-flex-preferred-size:16.66666667%;\n  flex-basis:16.66666667%;\n  max-width:16.66666667%;\n}\n.col-xs-3{\n  -ms-flex-preferred-size:25%;\n  flex-basis:25%;\n  max-width:25%;\n}\n.col-xs-4{\n  -ms-flex-preferred-size:33.33333333%;\n  flex-basis:33.33333333%;\n  max-width:33.33333333%;\n}\n.col-xs-5{\n  -ms-flex-preferred-size:41.66666667%;\n  flex-basis:41.66666667%;\n  max-width:41.66666667%;\n}\n.col-xs-6{\n  -ms-flex-preferred-size:50%;\n  flex-basis:50%;\n  max-width:50%;\n}\n.col-xs-7{\n  -ms-flex-preferred-size:58.33333333%;\n  flex-basis:58.33333333%;\n  max-width:58.33333333%;\n}\n.col-xs-8{\n  -ms-flex-preferred-size:66.66666667%;\n  flex-basis:66.66666667%;\n  max-width:66.66666667%;\n}\n.col-xs-9{\n  -ms-flex-preferred-size:75%;\n  flex-basis:75%;\n  max-width:75%;\n}\n.col-xs-10{\n  -ms-flex-preferred-size:83.33333333%;\n  flex-basis:83.33333333%;\n  max-width:83.33333333%;\n}\n.col-xs-11{\n  -ms-flex-preferred-size:91.66666667%;\n  flex-basis:91.66666667%;\n  max-width:91.66666667%;\n}\n.col-xs-12{\n  -ms-flex-preferred-size:100%;\n  flex-basis:100%;\n  max-width:100%;\n}\n.col-xs-offset-0{\n  margin-left:0;\n}\n.col-xs-offset-1{\n  margin-left:8.33333333%;\n}\n.col-xs-offset-2{\n  margin-left:16.66666667%;\n}\n.col-xs-offset-3{\n  margin-left:25%;\n}\n.col-xs-offset-4{\n  margin-left:33.33333333%;\n}\n.col-xs-offset-5{\n  margin-left:41.66666667%;\n}\n.col-xs-offset-6{\n  margin-left:50%;\n}\n.col-xs-offset-7{\n  margin-left:58.33333333%;\n}\n.col-xs-offset-8{\n  margin-left:66.66666667%;\n}\n.col-xs-offset-9{\n  margin-left:75%;\n}\n.col-xs-offset-10{\n  margin-left:83.33333333%;\n}\n.col-xs-offset-11{\n  margin-left:91.66666667%;\n}\n.start-xs{\n  -webkit-box-pack:start;\n  -ms-flex-pack:start;\n  justify-content:flex-start;\n  text-align:start;\n}\n.center-xs{\n  -webkit-box-pack:center;\n  -ms-flex-pack:center;\n  justify-content:center;\n  text-align:center;\n}\n.end-xs{\n  -webkit-box-pack:end;\n  -ms-flex-pack:end;\n  justify-content:flex-end;\n  text-align:end;\n}\n.top-xs{\n  -webkit-box-align:start;\n  -ms-flex-align:start;\n  align-items:flex-start;\n}\n.middle-xs{\n  -webkit-box-align:center;\n  -ms-flex-align:center;\n  align-items:center;\n}\n.bottom-xs{\n  -webkit-box-align:end;\n  -ms-flex-align:end;\n  align-items:flex-end;\n}\n.around-xs{\n  -ms-flex-pack:distribute;\n  justify-content:space-around;\n}\n.between-xs{\n  -webkit-box-pack:justify;\n  -ms-flex-pack:justify;\n  justify-content:space-between;\n}\n.first-xs{\n  -webkit-box-ordinal-group:0;\n  -ms-flex-order:-1;\n  order:-1;\n}\n.last-xs{\n  -webkit-box-ordinal-group:2;\n  -ms-flex-order:1;\n  order:1;\n}\n@media only screen and (min-width: 48em){\n  .container{\n    width:49rem;\n  }\n  .col-sm,\n  .col-sm-1,\n  .col-sm-2,\n  .col-sm-3,\n  .col-sm-4,\n  .col-sm-5,\n  .col-sm-6,\n  .col-sm-7,\n  .col-sm-8,\n  .col-sm-9,\n  .col-sm-10,\n  .col-sm-11,\n  .col-sm-12,\n  .col-sm-offset-0,\n  .col-sm-offset-1,\n  .col-sm-offset-2,\n  .col-sm-offset-3,\n  .col-sm-offset-4,\n  .col-sm-offset-5,\n  .col-sm-offset-6,\n  .col-sm-offset-7,\n  .col-sm-offset-8,\n  .col-sm-offset-9,\n  .col-sm-offset-10,\n  .col-sm-offset-11,\n  .col-sm-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-sm{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-sm-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-sm-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-sm-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-sm-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-sm-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-sm-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-sm-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-sm-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-sm-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-sm-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-sm-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-sm-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-sm-offset-0{\n    margin-left:0;\n  }\n  .col-sm-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-sm-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-sm-offset-3{\n    margin-left:25%;\n  }\n  .col-sm-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-sm-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-sm-offset-6{\n    margin-left:50%;\n  }\n  .col-sm-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-sm-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-sm-offset-9{\n    margin-left:75%;\n  }\n  .col-sm-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-sm-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-sm{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-sm{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-sm{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-sm{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-sm{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-sm{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-sm{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-sm{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-sm{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-sm{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 64em){\n  .container{\n    width:65rem;\n  }\n  .col-md,\n  .col-md-1,\n  .col-md-2,\n  .col-md-3,\n  .col-md-4,\n  .col-md-5,\n  .col-md-6,\n  .col-md-7,\n  .col-md-8,\n  .col-md-9,\n  .col-md-10,\n  .col-md-11,\n  .col-md-12,\n  .col-md-offset-0,\n  .col-md-offset-1,\n  .col-md-offset-2,\n  .col-md-offset-3,\n  .col-md-offset-4,\n  .col-md-offset-5,\n  .col-md-offset-6,\n  .col-md-offset-7,\n  .col-md-offset-8,\n  .col-md-offset-9,\n  .col-md-offset-10,\n  .col-md-offset-11,\n  .col-md-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-md{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-md-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-md-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-md-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-md-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-md-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-md-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-md-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-md-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-md-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-md-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-md-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-md-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-md-offset-0{\n    margin-left:0;\n  }\n  .col-md-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-md-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-md-offset-3{\n    margin-left:25%;\n  }\n  .col-md-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-md-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-md-offset-6{\n    margin-left:50%;\n  }\n  .col-md-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-md-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-md-offset-9{\n    margin-left:75%;\n  }\n  .col-md-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-md-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-md{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-md{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-md{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-md{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-md{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-md{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-md{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-md{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-md{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-md{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}\n@media only screen and (min-width: 75em){\n  .container{\n    width:76rem;\n  }\n  .col-lg,\n  .col-lg-1,\n  .col-lg-2,\n  .col-lg-3,\n  .col-lg-4,\n  .col-lg-5,\n  .col-lg-6,\n  .col-lg-7,\n  .col-lg-8,\n  .col-lg-9,\n  .col-lg-10,\n  .col-lg-11,\n  .col-lg-12,\n  .col-lg-offset-0,\n  .col-lg-offset-1,\n  .col-lg-offset-2,\n  .col-lg-offset-3,\n  .col-lg-offset-4,\n  .col-lg-offset-5,\n  .col-lg-offset-6,\n  .col-lg-offset-7,\n  .col-lg-offset-8,\n  .col-lg-offset-9,\n  .col-lg-offset-10,\n  .col-lg-offset-11,\n  .col-lg-offset-12{\n    -webkit-box-sizing:border-box;\n            box-sizing:border-box;\n    -webkit-box-flex:0;\n    -ms-flex:0 0 auto;\n    flex:0 0 auto;\n    padding-right:0.5rem;\n    padding-left:0.5rem;\n  }\n  .col-lg{\n    -webkit-box-flex:1;\n    -ms-flex-positive:1;\n    flex-grow:1;\n    -ms-flex-preferred-size:0;\n    flex-basis:0;\n    max-width:100%;\n  }\n  .col-lg-1{\n    -ms-flex-preferred-size:8.33333333%;\n    flex-basis:8.33333333%;\n    max-width:8.33333333%;\n  }\n  .col-lg-2{\n    -ms-flex-preferred-size:16.66666667%;\n    flex-basis:16.66666667%;\n    max-width:16.66666667%;\n  }\n  .col-lg-3{\n    -ms-flex-preferred-size:25%;\n    flex-basis:25%;\n    max-width:25%;\n  }\n  .col-lg-4{\n    -ms-flex-preferred-size:33.33333333%;\n    flex-basis:33.33333333%;\n    max-width:33.33333333%;\n  }\n  .col-lg-5{\n    -ms-flex-preferred-size:41.66666667%;\n    flex-basis:41.66666667%;\n    max-width:41.66666667%;\n  }\n  .col-lg-6{\n    -ms-flex-preferred-size:50%;\n    flex-basis:50%;\n    max-width:50%;\n  }\n  .col-lg-7{\n    -ms-flex-preferred-size:58.33333333%;\n    flex-basis:58.33333333%;\n    max-width:58.33333333%;\n  }\n  .col-lg-8{\n    -ms-flex-preferred-size:66.66666667%;\n    flex-basis:66.66666667%;\n    max-width:66.66666667%;\n  }\n  .col-lg-9{\n    -ms-flex-preferred-size:75%;\n    flex-basis:75%;\n    max-width:75%;\n  }\n  .col-lg-10{\n    -ms-flex-preferred-size:83.33333333%;\n    flex-basis:83.33333333%;\n    max-width:83.33333333%;\n  }\n  .col-lg-11{\n    -ms-flex-preferred-size:91.66666667%;\n    flex-basis:91.66666667%;\n    max-width:91.66666667%;\n  }\n  .col-lg-12{\n    -ms-flex-preferred-size:100%;\n    flex-basis:100%;\n    max-width:100%;\n  }\n  .col-lg-offset-0{\n    margin-left:0;\n  }\n  .col-lg-offset-1{\n    margin-left:8.33333333%;\n  }\n  .col-lg-offset-2{\n    margin-left:16.66666667%;\n  }\n  .col-lg-offset-3{\n    margin-left:25%;\n  }\n  .col-lg-offset-4{\n    margin-left:33.33333333%;\n  }\n  .col-lg-offset-5{\n    margin-left:41.66666667%;\n  }\n  .col-lg-offset-6{\n    margin-left:50%;\n  }\n  .col-lg-offset-7{\n    margin-left:58.33333333%;\n  }\n  .col-lg-offset-8{\n    margin-left:66.66666667%;\n  }\n  .col-lg-offset-9{\n    margin-left:75%;\n  }\n  .col-lg-offset-10{\n    margin-left:83.33333333%;\n  }\n  .col-lg-offset-11{\n    margin-left:91.66666667%;\n  }\n  .start-lg{\n    -webkit-box-pack:start;\n    -ms-flex-pack:start;\n    justify-content:flex-start;\n    text-align:start;\n  }\n  .center-lg{\n    -webkit-box-pack:center;\n    -ms-flex-pack:center;\n    justify-content:center;\n    text-align:center;\n  }\n  .end-lg{\n    -webkit-box-pack:end;\n    -ms-flex-pack:end;\n    justify-content:flex-end;\n    text-align:end;\n  }\n  .top-lg{\n    -webkit-box-align:start;\n    -ms-flex-align:start;\n    align-items:flex-start;\n  }\n  .middle-lg{\n    -webkit-box-align:center;\n    -ms-flex-align:center;\n    align-items:center;\n  }\n  .bottom-lg{\n    -webkit-box-align:end;\n    -ms-flex-align:end;\n    align-items:flex-end;\n  }\n  .around-lg{\n    -ms-flex-pack:distribute;\n    justify-content:space-around;\n  }\n  .between-lg{\n    -webkit-box-pack:justify;\n    -ms-flex-pack:justify;\n    justify-content:space-between;\n  }\n  .first-lg{\n    -webkit-box-ordinal-group:0;\n    -ms-flex-order:-1;\n    order:-1;\n  }\n  .last-lg{\n    -webkit-box-ordinal-group:2;\n    -ms-flex-order:1;\n    order:1;\n  }\n}"]
            },] },
];
BotsComponent.ctorParameters = function () { return [
    { type: material.MatDialog, },
    { type: forms.FormBuilder, },
    { type: StoryService, },
]; };
BotsComponent.propDecorators = {
    "storiesBot": [{ type: core.Input },],
    "afterSave": [{ type: core.Input },],
};
var NgAiChatbot = /** @class */ (function () {
    function NgAiChatbot() {
    }
    NgAiChatbot.forRoot = function () {
        return {
            ngModule: NgAiChatbot,
            providers: []
        };
    };
    return NgAiChatbot;
}());
NgAiChatbot.decorators = [
    { type: core.NgModule, args: [{
                imports: [
                    common.CommonModule,
                    http.HttpClientModule,
                    animations.BrowserAnimationsModule,
                    forms.ReactiveFormsModule,
                    material.MatInputModule, material.MatCardModule, material.MatButtonModule, material.MatDialogModule,
                    material.MatCheckboxModule, material.MatIconModule, material.MatListModule, material.MatGridListModule, material.MatSelectModule,
                    material.MatToolbarModule, material.MatIconModule, material.MatFormFieldModule
                ],
                declarations: [
                    ChatComponent, StoriesComponent, StoryComponent, TrainComponent,
                    StoryDialogComponent, TrainDialogComponent, BotsComponent
                ],
                exports: [
                    ChatComponent, StoriesComponent, StoryComponent, TrainComponent,
                    StoryDialogComponent, TrainDialogComponent, BotsComponent
                ],
                providers: [CoreService, StoryService, ChatService],
                entryComponents: [StoryDialogComponent, TrainDialogComponent, BotsComponent]
            },] },
];
NgAiChatbot.ctorParameters = function () { return []; };

exports.NgAiChatbot = NgAiChatbot;
exports.ChatComponent = ChatComponent;
exports.StoriesComponent = StoriesComponent;
exports.TrainComponent = TrainComponent;
exports.StoryComponent = StoryComponent;
exports.a = ChatService;
exports.b = CoreService;
exports.f = BotsComponent;
exports.c = StoryService;
exports.d = StoryDialogComponent;
exports.e = TrainDialogComponent;

Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=ng-ai-chatbot.umd.js.map
